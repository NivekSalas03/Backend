<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <title>Geolocalización con HTML5</title>
  <link href='http://fonts.googleapis.com/css?family=Titillium+Web' rel='stylesheet' type='text/css'>
  <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
  <link rel="shortcut icon" href="http://www.azulweb.net/wp-content/uploads/2014/02/icono-2.png" />
  <script> function success(position) {  
    var status = document.querySelector('#status');  
    status.innerHTML = "¡Su ubicación!";  
    
    var mapcanvas = document.createElement('div');  
    mapcanvas.id = 'mapcanvas';  
    mapcanvas.style.height = '400px';  
    mapcanvas.style.width = '100%';  
    
    document.querySelector('#map').appendChild(mapcanvas);  
    
    var latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);  
    var myOptions = {  
    zoom: 15,  
    center: latlng,  
    mapTypeControl: false,  
    navigationControlOptions: {style: google.maps.NavigationControlStyle.SMALL},  
    mapTypeId: google.maps.MapTypeId.ROADMAP  
    };  
    var map = new google.maps.Map(document.getElementById("mapcanvas"), myOptions);  
    
    var marker = new google.maps.Marker({  
    position: latlng,  
    map: map,  
    title:"Usted está aquí."  
    });  
   }  
    
   function error(msg) {  
    var status = document.getElementById('status');  
    status.innerHTML= "Error [" + error.code + "]: " + error.message;   
   }  
    
   if (navigator.geolocation) {  
    navigator.geolocation.getCurrentPosition(success, error,{maximumAge:60000, timeout: 4000});  
   } else {  
    error('Actualiza el navegador web para usar el API de localización');  
   }  
    </script> 
    <style>
      *{
	margin: 0px;
	padding: 0px;
}

body{
	font-family: 'Titillium Web', sans-serif;
	background:  #dfdfdf;
}

#contenedor{
	width: 960px;
	margin: auto;
	background: #fff;
	box-shadow:8px 8px 2px 0px #a3a3a3;
    -moz-box-shadow:8px 8px 2px 0px #a3a3a3;
    -webkit-box-shadow:8px 8px 2px 0px #a3a3a3;
    padding: 10px;
}

#logo{
	width: 200px;
	float: right;
	margin-top: -40px;
}
    </style>
</head>
<body>
  <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/es_LA/sdk.js#xfbml=1&appId=1496372533912645&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
  <br/>
  <div id="contenedor">
    <h1>Geolocalización con HTML5</h1>
    <a href="http://www.azulweb.net/"><img id="logo" src="http://www.azulweb.net/generador-de-sombras-css3/img/logo.png"/></a>    
    <p id="status">Buscando su localización…</p>  
    <div id="map"></div>
  </div>
  <br/>
  <div id="contenedor">
    <div class="fb-comments" data-href="http://www.azulweb.net/demo/geolocalizacion-HTML5/" data-width="960" data-numposts="10" data-colorscheme="light"></div>
  </div>
</body>
</html>  